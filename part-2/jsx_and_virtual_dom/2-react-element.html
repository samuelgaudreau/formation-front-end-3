<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Discover ReactElement</title>
        <link
            rel="stylesheet"
            href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css"
        />
    </head>
    <body>
        <!-- We will put our React component inside this div. -->
        <div id="app_container"></div>

        <!-- Load React. -->
        <script
            src="https://unpkg.com/react@16/umd/react.development.js"
            crossorigin
        ></script>
        <script
            src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
            crossorigin
        ></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

        <!-- Load our React component. -->
        <script type="text/babel">
            // 1. Without JSX
            const oldSchoolElement = React.createElement(
                "div",
                { className: "flex justify-center" },
                React.createElement("h1", null, "Hello World from not-jsx")
            );
            // Notice how the children is just an other props

            // TODO: DO this eveywhere
            console.log("Old school", oldSchoolElement);

            // 2. Constant JSX - babel directly compile into createElement.
            const constantJSXElement = (
                <div className="flex justify-center">
                    <h1>Hello World from JSX</h1>
                </div>
            );
            // Check how it is exactly the same as the #1
            console.log({ constantJSXElement });

            // 3. Render function: return a reactElement, look at the 3 possible way to use.
            const FunctionJSXElement = ({ name }) => (
                <div className="flex justify-center">
                    <h1>Hello {name}</h1>
                </div>
            );
            const instA = <FunctionJSXElement name={"John"} />;
            const instB = React.createElement(
                FunctionJSXElement,
                { name: "John" },
                null
            );
            const instC = FunctionJSXElement({ name: "John" });
            // Check how the type differ from #2
            console.log({ instA });
            console.log({ instB });
            console.log({ instC });

            // 4. Component
            class MyComponent extends React.Component {
                constructor(props) {
                    super(props);
                    this.state = { isMorning: true };

                    this.toggleMoment = this.toggleMoment.bind(this);
                }

                toggleMoment() {
                    this.setState(x => ({ isMorning: !x.isMorning }));
                }

                render() {
                    const { name } = this.props;
                    const { isMorning } = this.state;

                    return (
                        <div
                            className="flex justify-center"
                            onClick={this.toggleMoment}
                        >
                            <Title isMorning={isMorning} name={name} />
                        </div>
                    );
                }
            }
            
            const Title = ({ isMorning, name }) => (
                <h1>
                    {isMorning ? "Good Morning" : "Good Night"} {name}
                </h1>
            );
            // Check how the type differ from #2 and #3
            // Check in details the object: it contains no reference to state nor method
            // Is also don't call the render method, doesn't know it use <Title />
            const componentElement = <MyComponent name={"John"} />;
            console.log({ componentElement });

            // You can try to render any of previous reactElement
            const domContainer = document.querySelector("#app_container");
            ReactDOM.render(componentElement, domContainer);
        </script>
    </body>
</html>
